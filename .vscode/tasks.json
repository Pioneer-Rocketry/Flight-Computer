{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Build",
            "group": "build",
            "type": "shell",
            "command": [ "make", "-C", "./Code/", "all", "&&", "arm-none-eabi-objcopy", "-O", "binary", "./Code/build/Code.elf", "./Code/build/Code.bin" ],
            "detail": "Build"
        },
        {
            "label": "Clean Build",
            "group": "build",
            "type": "shell",
            "command": [ "make", "-C", "./Code/", "all", "clean", "&&", "make", "-C", "./Code/", "all", "&&", "arm-none-eabi-objcopy", "-O", "binary", "./Code/build/Code.elf", "./Code/build/Code.bin" ],
            "detail": "Do a clean build"
        },
        {
            "label": "Upload",
            "group": "build",
            "type": "shell",
            "command": [ "arm-none-eabi-objcopy", "-O", "binary", "./Code/build/Code.elf", "./Code/build/Code.bin", "&&", "st-flash", "write", "./Code/build/Code.bin", "0x08000000", "&&", "arm-none-eabi-objcopy", "-O", "binary", "./Code/build/Code.elf", "./Code/build/Code.bin" ],
            "detail": "Upload"
        },
        {
            "label": "Build and Upload",
            "group": "build",
            "type": "shell",
            "command": [ "make", "-C", "./Code/", "all" , "&&", "arm-none-eabi-objcopy", "-O", "binary", "./Code/build/Code.elf", "./Code/build/Code.bin", "&&",  "st-flash", "write", "./Code/build/Code.bin", "0x08000000" ],
            "detail": "Upload"
        }
    ]
}